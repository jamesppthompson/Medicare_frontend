"use strict";(self.webpackChunkreact_mui_pro_starter=self.webpackChunkreact_mui_pro_starter||[]).push([[421],{34117:function(e,n,t){var r=t(74165),i=t(15861),a=t(29396),c=t(90240);function o(){return(o=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://call.medicaremagician.us",REACT_APP_GOOGLE_API_CLIENT_ID:"_YOUR_CLIENT_ID_HERE_",REACT_APP_LOG_LEVEL:"DEBUG"}.REACT_APP_MULTIPASS){e.next=2;break}return e.abrupt("return",{nameFirst:"Leeloo",nameLast:"Dallas",phone:"+1234567890",email:"Leeloo.Dallas@Multipass.com"});case 2:return e.prev=2,(0,c.Z)(n),e.next=6,null===a.h||void 0===a.h||null===(i=a.h.axios)||void 0===i?void 0:i.get(t);case 6:if(200!==(null===(o=e.sent)||void 0===o?void 0:o.status)){e.next=11;break}return s=o.data,log.warn("".concat(n," -"),s),e.abrupt("return",s);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),log.error("".concat(n," -"),e.t0);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}n.Z=function(e,n){return o.apply(this,arguments)}},70683:function(e,n,t){var r=t(29439),i=(t(72791),t(86039)),a=t(62812),c=t(94162),o=t(59291),s=t(80184);n.Z=function(e){var n,t=(0,o.qr)(),l=(0,r.Z)(t,2),u=l[0];l[1];return(0,s.jsx)(i.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(a.Z,{variant:"h6",children:"Call as"}),(0,s.jsx)(a.Z,{variant:"button",children:null===(n=u.currentUser)||void 0===n?void 0:n.phone})]})})}},5829:function(e,n,t){t(72791);var r=t(86039),i=t(39753),a=t(26002),c=t(87764),o=t(80184);n.Z=function(e){return(0,o.jsxs)(r.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[(0,o.jsx)(i.ZP,{sx:{ml:1,flex:1},placeholder:"Enter a name or number",inputProps:{"aria-label":"enter a name or number"},value:e.phoneNumber,onChange:function(n){e.handlePhoneNumber(n.target.value)}}),(0,o.jsx)(c.Z,{variant:"extended",sx:{p:"10px",m:1},"aria-label":"call",color:"success",disabled:0==e.phoneNumber.length,onClick:function(){e.handleDialing(!0)},children:(0,o.jsx)(a.Z,{sx:{mr:2,ml:2}})})]})}},7524:function(e,n,t){t.d(n,{Z:function(){return L}});var r=t(74165),i=t(15861),a=t(29439),c=t(1413),o=t(45987),s=t(72791),l=(t(7538),t(80349),t(75579)),u=t(94162),d=t(87764),h=t(60277),p=t(58195),x=t(75196),f=t(29823),Z=t(40464),m=t(10073),v=t(99749),g=t(62812),j=t(12162),b=t(42419),C=t(83423),w=t(34117),S=t(29396),y=t(59291),k=t(18219),P=t(80184);function D(e){var n=function(e){return[Math.floor(e/864e5),Math.floor(e%864e5/36e5),Math.floor(e%36e5/6e4),Math.floor(e%6e4/1e3)]},t=function(){var t=e.timestamp,r=(0,s.useState)(0),i=(0,a.Z)(r,2),c=i[0],o=i[1];return(0,s.useEffect)((function(){var e=setInterval((function(){var e=(new Date).getTime()-t;o(e)}),1e3);return function(){return clearInterval(e)}}),[t]),n(c)}(),r=(0,a.Z)(t,4),i=(r[0],r[1]),c=r[2],o=r[3];return(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:"time-1",children:i}),(0,P.jsx)("span",{className:"time-2",children:" : "}),(0,P.jsx)("span",{className:"time-3",children:c}),(0,P.jsx)("span",{className:"time-4",children:" : "}),(0,P.jsx)("span",{className:"time-5",children:o})]})}var T=t(67970),_=t(58875),E=t(86342),I=t(58320),O=t(45254),N=t(98032),A=(t(94933),t(7076),t(29350),t(45224),["children","onClose"]),M=(0,h.ZP)(p.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function z(e){var n=e.children,t=e.onClose,r=(0,o.Z)(e,A);return(0,P.jsxs)(Z.Z,(0,c.Z)((0,c.Z)({sx:{m:0,p:2}},r),{},{children:[n,t?(0,P.jsx)(x.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,P.jsx)(f.Z,{})}):null]}))}var L=function(e){var n=(0,s.useState)(!1),t=(0,a.Z)(n,2),c=t[0],o=t[1],h=(0,s.useState)(""),p=(0,a.Z)(h,2),x=p[0],f=p[1],Z=(0,s.useState)([]),A=(0,a.Z)(Z,2),L=A[0],R=A[1],W=(0,s.useState)(!1),H=(0,a.Z)(W,2),F=H[0],G=H[1],U=(0,y.qr)(),V=(0,a.Z)(U,2),q=V[0],B=(V[1],function(){o(!1)}),K=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===S.h||void 0===S.h||null===(n=S.h.auth)||void 0===n?void 0:n.post("api/twilio/addUser",{PhoneNumber:x.phone,SessionID:q.currentUser.id});case 2:G(!0),o(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Z)((0,k.AI)(),"api/clients");case 2:n=e.sent,console.log(n),R(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return(0,P.jsxs)(u.Z,{spacing:3,style:{width:"80%",height:"100%",marginTop:"30%"},justifyContent:"center",children:[(0,P.jsxs)(u.Z,{direction:"row",spacing:2,justifyContent:"center",children:[F&&(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(u.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,P.jsx)(C.Z,{src:T,sx:{width:84,height:84}})}),(0,P.jsx)(u.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,P.jsx)(g.Z,{variant:"h6",children:x.name})})]}),(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(u.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,P.jsx)(C.Z,{src:T,sx:{width:84,height:84}})}),(0,P.jsx)(u.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,P.jsx)(g.Z,{variant:"h6",children:e.user})})]})]}),!e.isCallStarted&&(0,P.jsx)(u.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,P.jsx)(g.Z,{variant:"h6",children:"Calling..."})}),e.isCallStarted&&(0,P.jsx)(u.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,P.jsx)(g.Z,{variant:"h6",children:(0,P.jsx)(D,{timestamp:e.timestamp})})}),(0,P.jsxs)(u.Z,{spacing:3,justifyContent:"center",direction:"row",style:{marginBottom:"20px"},children:[e.isCallStarted&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(d.Z,{"aria-label":"call-end",color:"default",onClick:function(){return o(!c)},children:(0,P.jsx)(b.Z,{sx:{mr:2,ml:2}})})}),(0,P.jsx)(d.Z,{"aria-label":"call-end",color:"error",onClick:function(){return e.endCall()},children:(0,P.jsx)(j.Z,{sx:{mr:2,ml:2}})})]}),(0,P.jsxs)(M,{onClose:B,"aria-labelledby":"customized-dialog-title",open:c,sx:{minWidth:500},children:[(0,P.jsx)(z,{id:"customized-dialog-title",onClose:B,sx:{minWidth:500},children:"Add a new participant"}),(0,P.jsx)(m.Z,{dividers:!0,children:(0,P.jsxs)(u.Z,{direction:"row",spacing:5,children:[(0,P.jsxs)(O.Z,{sx:{m:1,minWidth:200},size:"small",children:[(0,P.jsx)(_.Z,{id:"demo-select-small",children:"Top marketer"}),(0,P.jsx)(N.Z,{labelId:"demo-select-small",id:"demo-select-small",value:x,label:"Top marketer",onChange:function(e){f(e.target.value),console.log(e.target.value)},children:L.map((function(e){return(0,P.jsx)(E.Z,{value:e,children:e.name},e._id)}))})]}),(0,P.jsx)(I.Z,{id:"standard-basic",label:" ",variant:"standard",value:x.phone,InputProps:{readOnly:!0}})]})}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(l.Z,{autoFocus:!0,onClick:K,children:"Add"})})]})]})}},93812:function(e,n,t){t(72791),t(7538),t(80349);var r=t(75579),i=t(94162),a=t(62812),c=t(8047),o=(t(94933),t(7076),t(29350),t(45224),t(80184));n.Z=function(e){var n=e.onClickNumber;return(0,o.jsx)(i.Z,{spacing:3,style:{width:"80%"},children:[[{number:"1",alpha:""},{number:"2",alpha:"a b c"},{number:"3",alpha:"d e f"}],[{number:"4",alpha:"g h i"},{number:"5",alpha:"j k l"},{number:"6",alpha:"m n o"}],[{number:"7",alpha:"p q r s"},{number:"8",alpha:"t u v"},{number:"9",alpha:"w x y z"}],[{number:"*",alpha:""},{number:"0",alpha:""},{number:"#",alpha:""}]].map((function(e){return(0,o.jsx)(i.Z,{direction:"row",spacing:0,children:(0,o.jsx)(c.ZP,{container:!0,rowSpacing:0,children:e.map((function(e,t){return(0,o.jsx)(c.ZP,{item:!0,xs:4,children:(0,o.jsx)(r.Z,{variant:"text",color:"info",style:{width:"100%"},onClick:function(){return t=e.number,void n(t);var t},children:(0,o.jsxs)(i.Z,{spacing:0,children:[(0,o.jsx)(a.Z,{variant:"h4",children:e.number}),""===e.alpha&&(0,o.jsx)(a.Z,{variant:"button",children:"\xa0"}),""!==e.alpha&&(0,o.jsx)(a.Z,{variant:"button",children:e.alpha})]})})},t)}))})})}))})}},42766:function(e,n,t){t.r(n),t.d(n,{default:function(){return ze}});var r=t(57689),i=t(29439),a=t(75579),c=(t(7043),t(72791)),o=t(94162),s=t(60277),l=t(42419),u=t(74165),d=t(15861),h=t(1413),p=t(12065),x=t(96015),f=t(7017),Z=t(71524),m=t(3651),v=t(50923),g=t(51215),j=t(27561),b=t(13080),C=t(37562),w=t(43788),S=t(62812),y=t(86039),k=t(61094),P=t(75196),D=t(1769),T=t(26002),_=t(27247),E=t(91903),I=t(95573),O=t(4780),N=t(58195),A=t(27977),M=t(32232),z=t(67952),L=t(83423),R=t(67970),W=(t(7538),t(80349),t(95431)),H=t(93812),F=t(7524),G=t(5829),U=t(70683),V=t(80610),q=t(44315),B=t(80184),K=function(e){(0,r.s0)(),(0,r.TH)();var n=(0,c.useState)(!1),t=(0,i.Z)(n,2),a=t[0],s=t[1],l=(0,V.Z)(),h=l.isCallingState,p=l.setIsCallingState,x=l.call,f=l.setCall,Z=l.device,m=l.setDevice,v=l.gatewayNumber,g=(0,q.Z)().twilioToken,j=(0,c.useState)(!1),b=(0,i.Z)(j,2),C=b[0],w=b[1];(0,c.useEffect)((function(){function n(){return(n=(0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!=g&&(e.setDialNumber(v),function(){n.apply(this,arguments)}())}),[g]),(0,c.useEffect)((function(){if(console.log("device useEffect:",Z),Z){console.log("device:",Z),k();try{console.log("device:",Z),Z.register(),w(!0)}catch(e){console.log(e)}}}),[Z]),(0,c.useEffect)((function(){I(!0)}),[C]);var S=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("Got a token.",g),y(g)}catch(n){console.log("An error occurred. See your browser console for more information."),console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){console.log("Initializing device"),m(new W.AS(e,{logLevel:1,codecPreferences:["opus","pcmu"]}))},k=function(){Z.on("registered",(function(){console.log("Twilio.Device Ready to make and receive calls!")})),Z.on("error",(function(e){console.log("Twilio.Device Error: "+e.message)})),Z.on("incoming",P),Z.audio.on("deviceChange",D.bind(Z)),Z.audio.isOutputSelectionSupported&&console.log("audioSelectionDiv.classList.remove('hide')")},P=function(e){console.log("Incoming call from ".concat(e.parameters.From))},D=function(){Z&&(T("speakerDevices",Z.audio.speakerDevices.get()),T("ringtoneDevices",Z.audio.ringtoneDevices.get()))},T=function(e,n){Z.audio.availableOutputDevices.forEach((function(e,t){n.size;n.forEach((function(e){e.deviceId===t&&!0}))}))},_=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={To:n},!Z){e.next=16;break}return console.log("Attempting to call ".concat(t.To," ...")),e.prev=3,e.next=6,Z.connect({params:t});case 6:r=e.sent,E(r),f(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:e.next=17;break;case 16:console.log("Unable to make call.");case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}(),E=function(e){e.on("accept",(function(e){console.log("registerCallEvents: accept"),N()})),e.on("disconnect",(function(){s(!1),p(!1),console.log("registerCallEvents: disconnect")})),e.on("cancel",(function(){console.log("registerCallEvents: cancel"),O()}))},I=function(n){s(n),console.log("Calling...",v),_(v),e.setDialNumber("")},O=function(){try{console.log("call:",x),x.disconnect(),console.log("call disconnected"),s(!1),p(!1),e.triggerReload(!0)}catch(n){console.log(n)}},N=function(){p(!0)};return(0,B.jsxs)(o.Z,{justifyContent:"center",alignItems:"center",spacing:5,children:[(0,B.jsx)(U.Z,{}),a?(0,B.jsx)(F.Z,{isCallStarted:h,endCall:O,user:e.user,call:x,timestamp:(new Date).getTime()}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(G.Z,{handlePhoneNumber:function(n){console.log(n),e.setDialNumber(n)},phoneNumber:v,handleDialing:I}),(0,B.jsx)(H.Z,{onClickNumber:function(n){e.setDialNumber(e.dialNumber+n)}})]})]})},J=c.forwardRef((function(e,n){return(0,B.jsx)(M.Z,(0,h.Z)({direction:"up",ref:n},e))}));x.Z;function Y(e){var n,t=c.useState(!1),r=(0,i.Z)(t,2),s=(r[0],r[1],c.useState("+12024172529")),l=(0,i.Z)(s,2),u=l[0],d=l[1],h=c.useState(!1),p=(0,i.Z)(h,2),f=(p[0],p[1]),Z=function(){e.setOpen(!1)};return(0,B.jsx)("div",{children:(0,B.jsxs)(N.Z,{fullScreen:!0,open:e.isOpen,onClose:Z,TransitionComponent:J,children:[(0,B.jsx)(A.Z,{sx:{position:"relative"},children:(0,B.jsxs)(w.Z,{children:[(0,B.jsxs)(S.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["$","".concat(e.name," (").concat(e.roomid,")")]}),(0,B.jsx)(a.Z,{autoFocus:!0,color:"info",onClick:Z,children:"Start"}),(0,B.jsx)(a.Z,{autoFocus:!0,color:"error",onClick:Z,children:"Leave Meeting"})]})}),(0,B.jsxs)(z.Z,{container:!0,direction:"row",children:[(0,B.jsx)(z.Z,{item:!0,xs:10,children:(0,B.jsx)(x.Z,{sx:{flexGrow:1,p:2,m:10},children:(0,B.jsx)(z.Z,{container:!0,spacing:4,sx:{"--Grid-borderWidth":"1px",borderTop:"var(--Grid-borderWidth) solid",borderLeft:"var(--Grid-borderWidth) solid",borderColor:"divider","& > div":{borderRight:"var(--Grid-borderWidth) solid",borderBottom:"var(--Grid-borderWidth) solid",borderColor:"divider"}},children:null===(n=e.users)||void 0===n?void 0:n.map((function(e,n){return(0,B.jsx)(z.Z,{xs:12,sm:6,md:4,lg:3,minHeight:160,children:(0,B.jsxs)(o.Z,{spacing:3,style:{width:"100%",height:"100%",marginTop:"0%"},justifyContent:"center",children:[(0,B.jsx)(o.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,B.jsx)(L.Z,{src:R,sx:{width:84,height:84}})}),(0,B.jsx)(o.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,B.jsx)(S.Z,{variant:"h6",children:null===e||void 0===e?void 0:e.name})}),(0,B.jsx)(o.Z,{spacing:3,justifyContent:"center",direction:"row",children:(0,B.jsx)(S.Z,{variant:"h6",children:null===e||void 0===e?void 0:e.phone})})]})},n)}))})})}),(0,B.jsx)(z.Z,{item:!0,xs:2,children:(0,B.jsx)(K,{triggerReload:f,dialNumber:u,setDialNumber:function(e){console.log(e),d(e)},user:"Conference Gateway"})})]})]})})}var $=c.createContext({}),Q=function(e){var n=e.children,t=(0,c.useState)(),r=(0,i.Z)(t,2),a=r[0],o=r[1];return(0,B.jsx)($.Provider,{value:{conferenceTable:a,setConferenceTable:o},children:n})},X=function(){var e=(0,c.useContext)($);return{conferenceTable:e.conferenceTable,setConferenceTable:e.setConferenceTable}},ee=t(34117),ne=t(18219);function te(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function re(e,n){return"desc"===e?function(e,t){return te(e,t,n)}:function(e,t){return-te(e,t,n)}}function ie(e,n){if("undefined"==typeof e)return[];var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))}var ae=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"room",numeric:!0,disablePadding:!1,label:"Room Number"},{id:"start",numeric:!0,disablePadding:!1,label:"Start Time"},{id:"duration",numeric:!0,disablePadding:!1,label:"Duration"},{id:"participants",numeric:!0,disablePadding:!1,label:"Participants"},{id:"online",numeric:!0,disablePadding:!1,label:"Online"},{id:"join",label:"Join"}];function ce(e){var n=e.onSelectAllClick,t=e.order,r=e.orderBy,i=e.numSelected,a=e.rowCount,c=e.onRequestSort;return(0,B.jsx)(g.Z,{children:(0,B.jsxs)(b.Z,{children:[(0,B.jsx)(m.Z,{padding:"checkbox",children:(0,B.jsx)(k.Z,{color:"primary",indeterminate:i>0&&i<a,checked:a>0&&i===a,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),ae.map((function(e){return(0,B.jsx)(m.Z,{align:(e.numeric,"center"),padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&t,children:(0,B.jsxs)(C.Z,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(n=e.id,function(e){c(e,n)}),children:[e.label,r===e.id?(0,B.jsx)(x.Z,{component:"span",sx:I.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}function oe(e){var n=e.numSelected;return(0,B.jsxs)(w.Z,{sx:(0,h.Z)({pl:{sm:2},pr:{xs:1,sm:1}},n>0&&{bgcolor:function(e){return(0,p.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[n>0?(0,B.jsxs)(S.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):(0,B.jsx)(S.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Conference History"}),n>0?(0,B.jsx)(D.Z,{title:"Delete",children:(0,B.jsx)(P.Z,{children:(0,B.jsx)(_.Z,{})})}):(0,B.jsx)(D.Z,{title:"Filter list",children:(0,B.jsx)(P.Z,{children:(0,B.jsx)(E.Z,{})})})]})}(0,s.ZP)(O.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{right:0,top:10,border:"2px solid ".concat(n.palette.background.paper),padding:"0 4px"}}}));function se(){var e=c.useState("asc"),n=(0,i.Z)(e,2),t=n[0],r=n[1],a=c.useState("start"),o=(0,i.Z)(a,2),s=o[0],l=o[1],h=c.useState([]),p=(0,i.Z)(h,2),g=p[0],C=p[1],w=c.useState(0),S=(0,i.Z)(w,2),D=S[0],_=S[1],E=c.useState(!1),I=(0,i.Z)(E,2),O=I[0],N=(I[1],c.useState(10)),A=(0,i.Z)(N,2),M=A[0],z=A[1],L=(0,c.useState)(!1),R=(0,i.Z)(L,2),W=R[0],H=R[1],F=(0,c.useState)("Conference 1"),G=(0,i.Z)(F,2),U=G[0],V=G[1],q=X(),K=q.conferenceTable,J=q.setConferenceTable,$=(0,c.useState)(),Q=(0,i.Z)($,2),te=Q[0],ae=Q[1],se=(0,c.useState)(),le=(0,i.Z)(se,2),ue=le[0],de=le[1];(0,c.useEffect)((function(){var e=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("init here"),e.next=3,(0,ee.Z)((0,ne.AI)(),"api/conferences");case 3:n=e.sent,console.log(J),J(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var he=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(n.name),de(n.roomid),e.next=4,(0,ee.Z)((0,ne.AI)(),"api/conferences/participants/".concat(n._id));case 4:t=e.sent,console.log(t),ae(t),H(!0);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),pe=D>0?Math.max(0,(1+D)*M-(null===K||void 0===K?void 0:K.length)):0;return(0,B.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,B.jsxs)(y.Z,{sx:{width:"100%",mb:2},children:[(0,B.jsx)(oe,{numSelected:g.length}),(0,B.jsx)(v.Z,{children:(0,B.jsxs)(f.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:O?"small":"medium",children:[(0,B.jsx)(ce,{numSelected:g.length,order:t,orderBy:s,onSelectAllClick:function(e){if(e.target.checked){var n=K.map((function(e){return e.name}));C(n)}else C([])},onRequestSort:function(e,n){r(s===n&&"asc"===t?"desc":"asc"),l(n)},rowCount:null===K||void 0===K?void 0:K.length}),(0,B.jsxs)(Z.Z,{children:[ie(K,re(t,s)).slice(D*M,D*M+M).map((function(e,n){var t,r,i,a=(i=e.name,-1!==g.indexOf(i)),c="enhanced-table-checkbox-".concat(n);return(0,B.jsxs)(b.Z,{hover:!0,tabIndex:-1,children:[(0,B.jsx)(m.Z,{padding:"checkbox",children:(0,B.jsx)(k.Z,{color:"primary",onClick:function(n){return function(e,n){var t=g.indexOf(n),r=[];-1===t?r=r.concat(g,n):0===t?r=r.concat(g.slice(1)):t===g.length-1?r=r.concat(g.slice(0,-1)):t>0&&(r=r.concat(g.slice(0,t),g.slice(t+1))),C(r)}(0,e.name)},checked:a,inputProps:{"aria-labelledby":c}})}),(0,B.jsx)(m.Z,{component:"th",id:c,scope:"row",padding:"none",align:"center",children:e.name}),(0,B.jsx)(m.Z,{align:"center",children:e.roomid}),(0,B.jsx)(m.Z,{align:"center",children:e.starttime}),(0,B.jsx)(m.Z,{align:"center",children:e.duration}),(0,B.jsx)(m.Z,{align:"center",children:null===(t=e.participants)||void 0===t?void 0:t.length}),(0,B.jsx)(m.Z,{align:"center",children:null===(r=e.online)||void 0===r?void 0:r.length}),(0,B.jsx)(m.Z,{align:"center",children:(0,B.jsx)(P.Z,{onClick:function(){return he(e)},children:(0,B.jsx)(T.Z,{color:"primary"})})})]},e.name)})),pe>0&&(0,B.jsx)(b.Z,{style:{height:(O?33:53)*pe},children:(0,B.jsx)(m.Z,{colSpan:6})})]})]})}),(0,B.jsx)(j.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:null===K||void 0===K?void 0:K.length,rowsPerPage:M,page:D,onPageChange:function(e,n){_(n)},onRowsPerPageChange:function(e){z(parseInt(e.target.value,10)),_(0)}})]}),(0,B.jsx)(Y,{name:U,roomid:ue,isOpen:W,setOpen:H,users:te})]})}var le=t(93433),ue=t(45987),de=t(74142),he=t(40464),pe=t(10073),xe=t(99749),fe=t(29823),Ze=t(58320),me=t(45254),ve=t(98032),ge=t(58875),je=t(86342),be=t(12710),Ce=t(96746),we=t(59291),Se=t(25518),ye=["children","onClose"],ke=(0,s.ZP)(N.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function Pe(e){var n=e.children,t=e.onClose,r=(0,ue.Z)(e,ye);return(0,B.jsxs)(he.Z,(0,h.Z)((0,h.Z)({sx:{m:0,p:2}},r),{},{children:[n,t?(0,B.jsx)(P.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,B.jsx)(fe.Z,{})}):null]}))}var De={PaperProps:{style:{maxHeight:224,width:250}}};function Te(e,n,t){return{fontWeight:-1===n.indexOf(e)?t.typography.fontWeightRegular:t.typography.fontWeightMedium}}function _e(e){var n=(0,we.qr)(),t=(0,i.Z)(n,2),r=t[0],s=(t[1],X()),l=s.conferenceTable,h=s.setConferenceTable,p=(0,de.Z)(),f=c.useState(!1),Z=(0,i.Z)(f,2),m=(Z[0],Z[1],(0,c.useState)(30)),v=(0,i.Z)(m,2),g=v[0],j=v[1],b=(0,c.useState)("Conference 1"),C=(0,i.Z)(b,2),w=C[0],S=C[1],y=(0,c.useState)("2022-11-10T10:30"),k=(0,i.Z)(y,2),P=k[0],D=k[1],T=c.useState([]),_=(0,i.Z)(T,2),E=_[0],I=_[1],O=(0,c.useState)([]),N=(0,i.Z)(O,2),A=N[0],M=N[1];(0,c.useEffect)((function(){var e=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.Z)((0,ne.AI)(),"api/clients");case 2:n=e.sent,console.log(n),M(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var z=function(){console.log(P),e.setOpen(!1)},L=function(){var n=(0,d.Z)((0,u.Z)().mark((function n(){var t,i;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],E.map((function(e){t.push({user:e._id})})),n.next=4,(0,Se.Z)("api/conferences",{agency:r.currentUser.id,name:w,starttime:P,duration:g,participants:t});case 4:i=n.sent,console.log(i),I([]),h([].concat((0,le.Z)(l),[i])),e.setOpen(!1);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,B.jsx)("div",{children:(0,B.jsxs)(ke,{onClose:z,"aria-labelledby":"customized-dialog-title",open:e.isOpen,sx:{minWidth:500},children:[(0,B.jsx)(Pe,{id:"customized-dialog-title",onClose:z,sx:{minWidth:500},children:"Create a new conference call"}),(0,B.jsx)(pe.Z,{dividers:!0,children:(0,B.jsxs)(o.Z,{spacing:3,children:[(0,B.jsx)(o.Z,{children:(0,B.jsx)(Ze.Z,{id:"datetime-local",label:"Name",type:"text",value:w,onChange:function(e){return S(e.target.value)},sx:{width:250},InputLabelProps:{shrink:!0}})}),(0,B.jsxs)(o.Z,{direction:"row",spacing:2,children:[(0,B.jsx)(Ze.Z,{id:"datetime-local",label:"Start Time",type:"datetime-local",value:P,onChange:function(e){return D(e.target.value)},sx:{width:250},InputLabelProps:{shrink:!0}}),(0,B.jsxs)(me.Z,{sx:{m:1,minWidth:120},size:"big",children:[(0,B.jsx)(ge.Z,{id:"demo-simple-select-autowidth-label",children:"Duration"}),(0,B.jsx)(ve.Z,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth-label",value:g,label:"Duration",onChange:function(e){return j(e.target.value)},children:[15,30,45,60,90].map((function(e){return(0,B.jsxs)(je.Z,{value:e,children:[" ","".concat(e," mins")]})}))})]})]}),(0,B.jsx)(o.Z,{children:(0,B.jsxs)(me.Z,{sx:{m:1,minWidth:300},children:[(0,B.jsx)(ge.Z,{id:"demo-multiple-chip-label",children:"Participants"}),(0,B.jsx)(ve.Z,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:E,onChange:function(e){var n=e.target.value;I("string"===typeof n?n.split(","):n)},input:(0,B.jsx)(Ce.Z,{id:"select-multiple-chip",label:"Participants"}),renderValue:function(e){return(0,B.jsx)(x.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return(0,B.jsx)(be.Z,{label:e.name},e._id)}))})},MenuProps:De,children:A.map((function(e){return(0,B.jsx)(je.Z,{value:e,style:Te(e,E,p),children:e.name},e._id)}))})]})})]})}),(0,B.jsx)(xe.Z,{children:(0,B.jsx)(a.Z,{autoFocus:!0,onClick:L,children:"Create"})})]})})}var Ee=t(42526),Ie=t(39543),Oe=t(53329),Ne=t(88014),Ae=t(90580),Me=(Ie.Z,Oe.Z,Ne.Z,Ae.Z,(0,s.ZP)(Ee.Z)((function(e){var n=e.theme;return{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:n.spacing(2),right:n.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:n.spacing(2),left:n.spacing(2)}}})),function(){var e=c.useState(12),n=(0,i.Z)(e,2),t=(n[0],n[1],(0,c.useState)("")),r=(0,i.Z)(t,2),s=(r[0],r[1],(0,c.useState)(!1)),u=(0,i.Z)(s,2),d=(u[0],u[1],(0,c.useState)(!1)),h=(0,i.Z)(d,2),p=h[0],x=h[1],f=c.useState("Online"),Z=(0,i.Z)(f,2),m=Z[0];Z[1];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("h1",{children:"Conference Call"}),(0,B.jsxs)(o.Z,{spacing:2,children:[(0,B.jsx)(o.Z,{direction:"row",children:(0,B.jsx)(a.Z,{variant:"contained",startIcon:(0,B.jsx)(l.Z,{}),onClick:function(){return x(!0)},children:"New Conference"})}),(0,B.jsx)(se,{}),(0,B.jsx)(_e,{isOpen:p,setOpen:x,agentStatus:m})]})]})}),ze=function(){return(0,B.jsx)(Q,{children:(0,B.jsx)(r.Z5,{children:(0,B.jsx)(r.AW,{path:"/",element:(0,B.jsx)(Me,{})})})})}},27247:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),a=t(80184),c=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=c},39543:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),a=t(80184),c=(0,i.default)((0,a.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");n.Z=c},88014:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),a=t(80184),c=(0,i.default)((0,a.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");n.Z=c},53329:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),a=t(80184),c=(0,i.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=c},90580:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),a=t(80184),c=(0,i.default)((0,a.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");n.Z=c}}]);
//# sourceMappingURL=421.c5bc2569.chunk.js.map